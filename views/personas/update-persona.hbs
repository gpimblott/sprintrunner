<form action="/personas/{{persona.id}}" enctype="multipart/form-data" method="post">

    <div class="row">
        <div class="col-md-12">
            <h2>Add Persona</h2>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="col-md-4 persona-column" id="name-column">
                <h3><span class="glyphicon glyphicon-tag"></span>&nbsp;Name & Picture</h3>
                <hr>
                <figure class="thumbnail" style="padding-top: 20px;">
                    <img id="avatarPreview" class="img-responsive" style="max-height: 200px; max-width: 250px" readonly
                         src="/personas/image/{{this.persona.id}}"/>
                    <figcaption class="text-center">
                        <label for="avatar">Avatar</label>
                        <input type="file" id="avatar" class="form-control" name="avatar"
                               style="padding-bottom: 10px; min-height: 50px">
                    </figcaption>
                </figure>
                <label>Name</label>
                <input class="form-control" type="text" name="name" id="name" value="{{persona.name}}">
                <br>
            </div>

            <div class="col-md-4 persona-column" id="details-column">
                <h3><span class="glyphicon glyphicon-search"></span>&nbsp;Details</h3>
                <hr>
                <div class="form-group">
                    <textarea class="form-control" id="details" name="details" rows="15">{{persona.details}}</textarea>
                </div>
            </div>

            <div class="col-md-4 persona-column" id="goals-column">
                <h3><span class="glyphicon glyphicon-record"></span>&nbsp;Goals</h3>
                <hr>
                <div class="form-group">
                    <textarea class="form-control" id="goal" name="goal" rows="15">{{persona.goal}}</textarea>
                </div>
            </div>
        </div>
    </div>

    <div class="row" style="margin-top: 20px">
        <div class="col-md-10">
            <button type="submit" class="btn btn-primary">Update</button>
        </div>
    </div>
</form>

<script src="/js/jquery.matchHeight-min.js" type="text/javascript"></script>


<script type="application/javascript">
    $('#name-column').on('shown.bs.collapse', function() {
        $.fn.matchHeight._update();
    });
    $('#details-column').on('shown.bs.collapse', function() {
        $.fn.matchHeight._update();
    });
    $('#goals-column').on('shown.bs.collapse', function() {
        $.fn.matchHeight._update();
    });


    (function() {
        /* matchHeight example */
        $(function() {
            var options = {
                byRow: true,
                property: 'height',
                target: null,
                remove: false
            };

            $(function () {
                $('.persona-column').matchHeight(options);
            });
        })})();
</script>
